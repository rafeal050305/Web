{% extends 'admin/base_admin.html' %}
{% block title %}Crear Resultado Médico{% endblock %}

{% block content %}
<div class="auth-container">
  <div class="auth-card register" style="max-width: 800px;">
    <div class="logo" style="margin-bottom: 1.5rem;">
      <i class="fas fa-file-medical" style="font-size: 2.5rem; color: var(--primary-green);"></i>
    </div>
    <h1 style="font-size: 2rem;">Crear Resultado Médico</h1>
    <form method="POST" action="{{ url_for('crear_resultado', user_id=user_id) }}">
      <div class="form-row">
        <div class="form-group">
          <label>Glucosa:</label>
          <input type="text" name="glucosa" required />
        </div>
        <div class="form-group">
          <label>Colesterol:</label>
          <input type="text" name="colesterol" required />
        </div>
        <div class="form-group">
          <label>RBC:</label>
          <input type="text" name="rbc" required />
        </div>
        <div class="form-group">
          <label>Hemoglobina:</label>
          <input type="text" name="hemoglobina" required />
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Hematocrito:</label>
          <input type="text" name="hematocrito" required />
        </div>
        <div class="form-group">
          <label>WBC:</label>
          <input type="text" name="wbd" required />
        </div>
        <div class="form-group">
          <label>RPL:</label>
          <input type="text" name="rpl" required />
        </div>
        <div class="form-group">
          <label>Grupo Sanguíneo:</label>
          <input type="text" name="grupo_sanguineo" required />
        </div>
      </div>
      <div class="form-group">
        <label>Eco:</label>
        <textarea name="eco" required></textarea>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Parasitológico Simple:</label>
          <textarea name="parasitalogico_simple" required></textarea>
        </div>
        <div class="form-group">
          <label>Parasitológico Seriado:</label>
          <textarea name="parasitalogico_seriado" required></textarea>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Prueba rápida dengue:</label>
          <textarea name="pr_dengue" required></textarea>
        </div>
        <div class="form-group">
          <label>Prueba rápida Helicobacter pylori:</label>
          <textarea name="pr_helicobacter" required></textarea>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Link de resultado en Google Drive:</label>
          <input type="url" name="link_drive" required />
        </div>
        <div class="form-group">
          <label>Fecha de envío:</label>
          <input type="date" name="fecha_envio" required />
        </div>
      </div>
      <input type="hidden" name="hora_envio" id="hora_envio" />
      <button type="submit" class="btn btn-success btn-full">Enviar Resultado</button>
    </form>
  </div>
</div>
{% endblock %}
{% block scripts %}
<script>
window.addEventListener("DOMContentLoaded", () => {
  const ahora = new Date();
  const horas = ahora.getHours().toString().padStart(2, "0");
  const minutos = ahora.getMinutes().toString().padStart(2, "0");
  document.getElementById("hora_envio").value = `${horas}:${minutos}`;
});
</script>
{% endblock %}
